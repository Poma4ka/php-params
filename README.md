# php-params
Мощный класс по обработке входящих параметров

## Использование:

Для установки обработчика ошибок следует выполнить функцию onError. В функцию передается значение параметра в котором произошла ошибка и сама ошибка.
```php
params::onError(function ($value,$error) {
 die("error");
});
```

Для проверки параметров нужно вызвать одну из представленных функций:
```php
params::number($parameter)->options()...->get();
params::string($parameter)->options()...->get();
params::array($parameter)->options()...->get();
params::file($parameter)->options()...->get();
params::date($parameter)->options()...->get();
params::json($parameter)->options()...->get();
params::bool($parameter)->options()...->get();
```
В каждый функции есть персональные параметры для типа данных. У некоторых параметров есть парсеры, например парсинг JSON строки. 

### Установка ошибок
В каждую функцию после всех параметров передается параметр $error, который будет передан в onError() если при проверке данного блока возникнет ошибка.

## Разбор функций

### Универсальные функции
```php
params::bool()->required() # если не предоставлен параметр, или равен null, вызывается функция
params::bool()->oneOf([params]) # значение параметра должно точно соответствовать одному из предоставленных
params::bool()->get($default) # вызывается для получения параметра, если параметр не установлен, передает $default
```

### BOOL
у bool параметра нет уникальных функций, любое переданное значение будет парсится в bool.

### NUMBER
```php
params::number()
->min(12) # минимальное разрешенное значение
->max(15) # максимальное разрешенное значение
```

### STRING
```php
params::string()
->min(12) # минимальная длина строки
->max(15) # максимальная длина строки
->email() # проверка строки на соответствие EMAIL формату
->symbols("A-zА-яЁё") # белый список символов строки
->regex() # регулярное выражение для строки
```

### ARRAY
```php
params::array()
->options([optons]) # в массиве обязательно должны присутствовать все переданные параметры
```

### DATE
```php
params::date()
->format($dateFormat) # преобразует переданную дату в определенный формат
```
Уникальные форматы:
• mysql - преобразует mysql DATETIME формат

### JSON
```php
params::json()
->parse() # преобразует в array и позволяет использовать все функции доступные массивам
```

### FILE
```php
params::file()
->type([types]) # проверяет тип файла на соотвествие одному из переданных
->extension([extensions]) # проверяет расширение файла на соотвествие одному из переданных
->min(12) # минимальный размер файла в КБ
->max(100) # максимальный размер файла в КБ
```





